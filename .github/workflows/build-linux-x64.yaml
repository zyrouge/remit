name: Build (Linux x64)

on:
    workflow_dispatch:

env:
    OUTPUT_ARTIFACTS_DIR: "./output-artifacts"

jobs:
    build:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4

            - uses: actions/setup-node@v4
              with:
                  node-version: 20

            - uses: subosito/flutter-action@v2
              with:
                  channel: beta

            - name: ðŸš§ Do prerequisites
              run: |
                  npm ci
                  flutter pub get

            - name: ðŸ”¨ Build artifacts
              run: npm run linux:build:x64

            # - name: ðŸš€ Upload artifacts
            #   uses: ncipollo/release-action@v1
            #   with:
            #       tag: ${{ github.sha }}
            #       artifacts: ${{ env.OUTPUT_ARTIFACTS_DIR }}/*
            #       generateReleaseNotes: true
            #       draft: true
            #       artifactErrorsFailBuild: true
